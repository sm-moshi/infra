# ansible/roles/k3s_common/templates/resolv.conf.j2
# Managed by Ansible - m0sh1.cc infrastructure
# Kubernetes enforces 3 nameserver limit

nameserver 10.0.10.1    # OPNsense MGMT_VLAN10
nameserver 10.0.30.1    # OPNsense MGMT_VLAN30
nameserver 1.1.1.1      # Cloudflare DNS fallback

# Use ndots:1 so FQDNs like ghcr.io/quay.io are queried as-is, while internal
# *.m0sh1.cc still benefit from the search domain.
search m0sh1.cc
options ndots:1
