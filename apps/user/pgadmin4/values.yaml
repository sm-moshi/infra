pgadmin4:
  replicaCount: 1
  revisionHistoryLimit: 1

  ingress:
    enabled: true
    className: traefik
    annotations:
      kubernetes.io/ingress.class: traefik
      traefik.ingress.kubernetes.io/router.entrypoints: websecure
      traefik.ingress.kubernetes.io/router.tls: "true"
      # external-dns.alpha.kubernetes.io/hostname: pgadmin.lab.m0sh1.cc
    hosts:
    - host: pgadmin.lab.m0sh1.cc
      paths:
      - path: /
        pathType: Prefix
    tls:
    - hosts:
      - pgadmin.lab.m0sh1.cc
      secretName: wildcard-m0sh1-cc

  service:
    type: ClusterIP
    port: 80

  networkPolicy:
    enabled: true

  existingSecret: pgadmin-admin
  secretKeys:
    pgadminPasswordKey: password

  env:
    email: admin@m0sh1.cc

  persistentVolume:
    enabled: true
    storageClass: proxmox-csi-zfs-pgdata-retain
    size: 5Gi

  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

  strategy:
    type: Recreate
  # tolerations:
  #   - key: node-role.kubernetes.io/control-plane
  #     operator: Exists
  #     effect: NoSchedule

  # affinity:
  #   nodeAffinity:
  #     preferredDuringSchedulingIgnoredDuringExecution:
  #       - weight: 80
  #         preference:
  #           matchExpressions:
  #             - key: topology.kubernetes.io/zone
  #               operator: In
  #               values:
  #                 - pve-01
  #                 - pve-02
  #   podAntiAffinity:
  #     preferredDuringSchedulingIgnoredDuringExecution:
  #       - weight: 50
  #         podAffinityTerm:
  #           topologyKey: kubernetes.io/hostname
  #           labelSelector:
  #             matchLabels:
  #               app.kubernetes.io/name: pgadmin4
